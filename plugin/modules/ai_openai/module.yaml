name: ai.openai
description: OpenAI-compatible API backend (OpenAI, OpenRouter, LM Studio, etc.)
requires: [ai]
capabilities: [text, image, vision, tools]

config:
  default_endpoint:
    type: string
    default: ""
    widget: text
    label: Default Endpoint
    placeholder: "https://api.openai.com/v1"
    helper: "Fallback API endpoint when no instance is configured"
    public: true

  default_model:
    type: string
    default: ""
    widget: select
    label: Default Model
    helper: "Select a model from the catalog"
    public: true
    options_provider: "plugin.modules.ai_openai:get_model_options"

  temperature:
    type: float
    default: 0.7
    min: 0.0
    max: 2.0
    step: 0.1
    widget: slider
    label: Temperature
    helper: "Controls randomness: 0 = deterministic, 2 = very creative"

  max_tokens:
    type: int
    default: 4096
    min: 1
    max: 128000
    widget: number
    label: Max Tokens
    helper: "Maximum number of tokens in the generated response"

  request_timeout:
    type: int
    default: 120
    min: 10
    max: 600
    widget: number
    label: Request Timeout (seconds)
    helper: "Time limit for API calls before they are cancelled"

  instances:
    type: string
    default: "[]"
    widget: list_detail
    inline: true
    label: Instances
    name_field: name
    item_fields:
      name:
        type: string
        label: Name
        widget: text
        default: ""
      endpoint:
        type: string
        label: API Endpoint
        widget: text
        default: ""
      api_key:
        type: string
        label: API Key
        widget: password
        default: ""
      model:
        type: string
        label: Model
        widget: select
        default: ""
        options_from: default_model
